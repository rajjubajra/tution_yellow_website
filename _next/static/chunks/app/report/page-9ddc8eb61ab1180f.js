(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{136:function(e,t,a){Promise.resolve().then(a.bind(a,5e3))},1552:function(e,t,a){"use strict";var n=a(7437);a(2265),t.Z=function(){return(0,n.jsx)("div",{className:"w-full h-screen flex justify-center items-center",children:(0,n.jsx)("h3",{className:"text-3xl",children:"Loading..."})})}},5e3:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var n=a(7437),o=a(2265),r=a(2333),i=a(9505),l=a(1552),s=a(9222);let c=async(e,t)=>{console.log("data in post function: ",e);try{let a=await (0,s.Z)({method:"GET",url:i.g.URL+"/session/token",headers:{Accept:"application/vnd.api+json","Content-type":"application/vnd.api+json"}});console.log(a.data);try{let n=await (0,s.Z)({method:"POST",url:"".concat(i.g.URL).concat(t),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json","X-CSRF-Token":a.data},data:e});return console.log("Post done: ",n),n}catch(e){console.log("Post Error: ",e)}}catch(e){console.log("Session token error: ",e)}},d=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return fetch(...t).then(e=>e.json())},u="border-b px-2 py-3 my-2 w-full outline-0 placeholder:font-thin bg-transparent placeholder:tracking-widest placeholder:text-slate-800 placeholder:font-light";var p=function(){var e,t,a;let[s,p]=(0,o.useState)(""),m=i.g.URL+"/jsonapi",{data:h,error:g,isLoading:f}=(0,r.ZP)(m,d);(0,o.useEffect)(()=>{var e,t,a,n;p(h&&(null==h?void 0:null===(n=h.meta)||void 0===n?void 0:null===(a=n.links)||void 0===a?void 0:null===(t=a.me)||void 0===t?void 0:null===(e=t.meta)||void 0===e?void 0:e.id))},[h]);let[v,S]=(0,o.useState)(null),[x,b]=(0,o.useState)(""),[j,y]=(0,o.useState)(!1),_="/jsonapi/taxonomy_term/term?filter[name][condition][path]=name&filter[name][condition][operator]=STARTS_WITH&filter[name][condition][value]=".concat(j?null:v),{data:T,error:C,isLoading:N}=(0,r.ZP)("".concat(i.g.URL).concat(_),d);(0,o.useEffect)(()=>{""===v&&S(null)},[v]);let k=e=>{S(e.attributes.name),b(e.id),y(!0)},w=e=>{y(!1),S(e.target.value)},[U,L]=(0,o.useState)(null),[R,E]=(0,o.useState)(""),[P,Z]=(0,o.useState)(!1);console.log("student search",U);let q="/jsonapi/taxonomy_term/student?filter[name][condition][path]=name&filter[name][condition][operator]=STARTS_WITH&filter[name][condition][value]=".concat(P?null:U),{data:A,error:H,isLoading:M}=(0,r.ZP)("".concat(i.g.URL).concat(q),d);console.log("student: ",A),console.log("studen Url",q),(0,o.useEffect)(()=>{""===U&&L(null)},[U]);let D=e=>{L(e.attributes.name),E(e.id),Z(!0)},O=e=>{Z(!1),L(e.target.value)},[F,I]=(0,o.useState)(null),[W,z]=(0,o.useState)(""),[G,X]=(0,o.useState)(!1),Y="/jsonapi/taxonomy_term/tution_subjects?filter[name][condition][path]=name&filter[name][condition][operator]=STARTS_WITH&filter[name][condition][value]=".concat(G?null:F),{data:B,error:J,isLoading:K}=(0,r.ZP)("".concat(i.g.URL).concat(Y),d);(0,o.useEffect)(()=>{""===F&&I(null)},[F]);let Q=e=>{I(e.attributes.name),z(e.id),X(!0)},V=e=>{X(!1),I(e.target.value)},[$,ee]=(0,o.useState)(""),[et,ea]=(0,o.useState)(""),[en,eo]=(0,o.useState)(""),[er,ei]=(0,o.useState)(""),[el,es]=(0,o.useState)(""),ec=new Date($);return((0,o.useEffect)(()=>{let e={data:{type:"node--tuition_progress_report",attributes:{title:"Progress Report - "+U,created:function(e){let t=e.getUTCFullYear(),a=String(e.getUTCMonth()+1).padStart(2,"0"),n=String(e.getUTCDate()).padStart(2,"0"),o=String(e.getUTCHours()).padStart(2,"0"),r=String(e.getUTCMinutes()).padStart(2,"0"),i=String(e.getUTCSeconds()).padStart(2,"0"),l=e.getTimezoneOffset();return"".concat(t,"-").concat(a,"-").concat(n,"T").concat(o,":").concat(r,":").concat(i).concat(l>=0?"-":"+").concat(String(Math.floor(Math.abs(l)/60)).padStart(2,"0"),":").concat(String(Math.abs(l)%60).padStart(2,"0"))}(ec),field_feedback:{value:en},field_used_hour:"20.00",moderation_state:"published",status:!0},relationships:{uid:{data:{type:"user--user",id:s}},field_report_by:{data:{type:"user--user",id:s}},field_student_s_name:{data:{type:"taxonomy_term--student",id:R}},field_subject_single:{data:{type:"taxonomy_term--tution_subjects",id:W}},field_term:{data:{type:"taxonomy_term--term",id:x}}}}};es(e)},[s,$,en,R,P,W,x,et]),f&&N&&M&&K)?(0,n.jsx)(l.Z,{}):(0,n.jsx)("div",{className:"md:w-[450px] w-full px-10",children:(0,n.jsxs)("form",{className:"grid grid-cols-1 gap-2",onSubmit:e=>{e.preventDefault(),c(el,"/jsonapi/node/tuition_progress_report"),console.log("PostData on Submit",el)},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{className:u,required:!0,type:"date",name:"date",value:$,onChange:e=>ee(e.target.value),placeholder:"date"}),(0,n.jsx)("input",{className:u,required:!0,type:"text",name:"student",value:U,onChange:e=>O(e),placeholder:"Name of Student"}),(0,n.jsx)("ul",{children:A&&(null==A?void 0:null===(e=A.data)||void 0===e?void 0:e.map(e=>(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>D(e),children:e.attributes.name},e.id)))}),(0,n.jsx)("input",{className:u,required:!0,type:"text",name:"subject",value:F,onChange:e=>V(e),placeholder:"Subject"}),(0,n.jsx)("ul",{children:B&&(null==B?void 0:null===(t=B.data)||void 0===t?void 0:t.map(e=>(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>Q(e),children:e.attributes.name},e.id)))}),(0,n.jsx)("input",{className:u,required:!0,type:"text",name:"term",value:v,onChange:e=>w(e),placeholder:"Term"})]}),(0,n.jsx)("ul",{children:T&&(null==T?void 0:null===(a=T.data)||void 0===a?void 0:a.map(e=>(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>k(e),children:e.attributes.name},e.id)))}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{className:"border-b px-2 py-3 w-full my-2 h-60 outline-0 placeholder:font-thin bg-transparent placeholder:tracking-widest placeholder:text-slate-800 placeholder:font-light",required:!0,value:en,onChange:e=>eo(e.target.value),name:"feedback",placeholder:"Feedback"}),(0,n.jsx)("input",{className:u,required:!0,type:"text",name:"classHour",value:er,onChange:e=>ei(e.target.value),placeholder:"Tuition Hour"})]}),(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)("button",{className:"w-32 border py-4 cursor-pointer uppercase font-light tracking-wider border-white bg-slate-200 hover:shadow-md dark:text-gray-700 duration-700",type:"submit",children:"Submit"})})]})})}},9505:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});let n={URL:"https://tuition.yellow-website.com/cms"}}},function(e){e.O(0,[801,222,971,596,744],function(){return e(e.s=136)}),_N_E=e.O()}]);