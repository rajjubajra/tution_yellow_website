(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{3697:function(e,t,a){Promise.resolve().then(a.bind(a,1128))},1552:function(e,t,a){"use strict";var n=a(7437);a(2265),t.Z=function(){return(0,n.jsx)("div",{className:"w-full h-screen flex justify-center items-center",children:(0,n.jsx)("h3",{className:"text-3xl",children:"Loading..."})})}},1128:function(e,t,a){"use strict";a.r(t);var n=a(7437),l=a(2265),o=a(2333),i=a(9505),r=a(1552);let s=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return fetch(...t).then(e=>e.json())},d="border-b px-2 py-3 my-2 w-full outline-0 placeholder:font-thin bg-transparent placeholder:tracking-widest placeholder:text-slate-800 placeholder:font-light";t.default=function(){var e,t,a;let[u,c]=(0,l.useState)(""),p=i.g.URL+"/jsonapi",{data:m,error:h,isLoading:f}=(0,o.ZP)(p,s);(0,l.useEffect)(()=>{var e,t,a,n;c(m&&(null==m?void 0:null===(n=m.meta)||void 0===n?void 0:null===(a=n.links)||void 0===a?void 0:null===(t=a.me)||void 0===t?void 0:null===(e=t.meta)||void 0===e?void 0:e.id))},[m]);let[v,g]=(0,l.useState)(null),[x,j]=(0,l.useState)(""),[b,_]=(0,l.useState)(!1),y="/jsonapi/taxonomy_term/term?filter[name][condition][path]=name&filter[name][condition][operator]=STARTS_WITH&filter[name][condition][value]=".concat(b?null:v),{data:S,error:k,isLoading:N}=(0,o.ZP)("".concat(i.g.URL).concat(y),s);(0,l.useEffect)(()=>{""===v&&g(null)},[v]);let w=e=>{g(e.attributes.name),j(e.id),_(!0)},T=e=>{_(!1),g(e.target.value)},[C,L]=(0,l.useState)(null),[R,E]=(0,l.useState)(""),[U,q]=(0,l.useState)(!1);console.log("student search",C);let P="/jsonapi/taxonomy_term/student?filter[name][condition][path]=name&filter[name][condition][operator]=STARTS_WITH&filter[name][condition][value]=".concat(U?null:C),{data:Z,error:H,isLoading:A}=(0,o.ZP)("".concat(i.g.URL).concat(P),s);console.log("student: ",Z),console.log("studen Url",P),(0,l.useEffect)(()=>{""===C&&L(null)},[C]);let F=e=>{L(e.attributes.name),E(e.id),q(!0)},I=e=>{q(!1),L(e.target.value)},[O,W]=(0,l.useState)(null),[D,G]=(0,l.useState)(""),[X,z]=(0,l.useState)(!1),B="/jsonapi/taxonomy_term/tution_subjects?filter[name][condition][path]=name&filter[name][condition][operator]=STARTS_WITH&filter[name][condition][value]=".concat(X?null:O),{data:J,error:K,isLoading:M}=(0,o.ZP)("".concat(i.g.URL).concat(B),s);(0,l.useEffect)(()=>{""===O&&W(null)},[O]);let Q=e=>{W(e.attributes.name),G(e.id),z(!0)},V=e=>{z(!1),W(e.target.value)},[Y,$]=(0,l.useState)(""),[ee,et]=(0,l.useState)(""),[ea,en]=(0,l.useState)(""),[el,eo]=(0,l.useState)(""),[ei,er]=(0,l.useState)("");(0,l.useEffect)(()=>{et(U+" - Feedback"),er({data:{type:"node--tuition_progress_report",attributes:{title:ee,created:Y,field_feedback:{value:ea},field_used_hour:"20.00"},relationships:{revision_uid:{data:{type:"user--user",id:u}},uid:{data:{type:"user--user",id:u}},field_report_by:{data:{type:"user--user",id:u}},field_student_s_name:{data:{type:"taxonomy_term--student",id:R}},field_subject_single:{data:{type:"taxonomy_term--tution_subjects",id:D}},field_term:{data:{type:"taxonomy_term--term",id:x}}}}})},[u,Y,ea,R,U,D,x,ee]);let es=i.g.URL+"/session/token",ed=()=>{fetch(es,{method:"GET"}).then(e=>e.json()).then(e=>console.log(e))};return f&&N&&A&&M?(0,n.jsx)(r.Z,{}):(0,n.jsx)("div",{className:"md:w-[450px] w-full px-10",children:(0,n.jsxs)("form",{className:"grid grid-cols-1 gap-2",onSubmit:e=>{e.preventDefault(),ed(),console.log(ei);let t=i.g.URL+"/jsonapi/node/tuition_progress_report";fetch(t,{method:"POST",headers:{accept:"application/vnd.api+json","content-type":"application/vnd.api+json","X-CSRF-Token":csrf_token},data:ei}).then(e=>e.json()).then(e=>console.log(e)).catch(e=>console.log(e))},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{className:d,required:!0,type:"date",name:"date",value:Y,onChange:e=>$(e.target.value),placeholder:"date"}),(0,n.jsx)("input",{className:d,required:!0,type:"text",name:"student",value:C,onChange:e=>I(e),placeholder:"Name of Student"}),(0,n.jsx)("ul",{children:Z&&(null==Z?void 0:null===(e=Z.data)||void 0===e?void 0:e.map(e=>(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>F(e),children:e.attributes.name},e.id)))}),(0,n.jsx)("input",{className:d,required:!0,type:"text",name:"subject",value:O,onChange:e=>V(e),placeholder:"Subject"}),(0,n.jsx)("ul",{children:J&&(null==J?void 0:null===(t=J.data)||void 0===t?void 0:t.map(e=>(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>Q(e),children:e.attributes.name},e.id)))}),(0,n.jsx)("input",{className:d,required:!0,type:"text",name:"term",value:v,onChange:e=>T(e),placeholder:"Term"})]}),(0,n.jsx)("ul",{children:S&&(null==S?void 0:null===(a=S.data)||void 0===a?void 0:a.map(e=>(0,n.jsx)("li",{className:"cursor-pointer",onClick:()=>w(e),children:e.attributes.name},e.id)))}),(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{className:"border-b px-2 py-3 w-full my-2 h-60 outline-0 placeholder:font-thin bg-transparent placeholder:tracking-widest placeholder:text-slate-800 placeholder:font-light",required:!0,value:ea,onChange:e=>en(e.target.value),name:"feedback",placeholder:"Feedback"}),(0,n.jsx)("input",{className:d,required:!0,type:"text",name:"classHour",value:el,onChange:e=>eo(e.target.value),placeholder:"Tuition Hour"})]}),(0,n.jsx)("div",{className:"mt-5",children:(0,n.jsx)("button",{className:"w-32 border py-4 cursor-pointer uppercase font-light tracking-wider border-white bg-slate-200 hover:shadow-md dark:text-gray-700 duration-700",type:"submit",children:"Submit"})})]})})}},9505:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});let n={URL:"https://tuition.yellow-website.com/cms"}}},function(e){e.O(0,[801,971,596,744],function(){return e(e.s=3697)}),_N_E=e.O()}]);