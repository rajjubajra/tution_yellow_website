(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{2405:function(e,t,n){Promise.resolve().then(n.bind(n,8029))},1552:function(e,t,n){"use strict";var i=n(7437);n(2265),t.Z=function(){return(0,i.jsx)("div",{className:"w-full h-screen flex justify-center items-center",children:(0,i.jsx)("h3",{className:"text-3xl",children:"Loading..."})})}},8029:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n(7437),o=n(2265);n(1552);var a=n(7447),s=n(2333),l=n(9505);let r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.json())};var d=function(e){let{id:t}=e;console.log(t);let[n,a]=(0,o.useState)(""),{studentTaxonomy:d,studentTaxonomyError:c,studentTaxonomyIsLoading:u}=function(){let e=l.g.URL+"/jsonapi/taxonomy_term/student",{data:t,error:n,isLoading:i}=(0,s.ZP)(e,r);return{studentTaxonomy:t,studentTaxonomyError:n,studentTaxonomyIsLoading:i}}();return console.log("Error:",c),(0,o.useEffect)(()=>{var e;let n=d&&(null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.findIndex(e=>e.id===t));a(null==d?void 0:d.data[n].attributes.name)},[d,t]),(0,i.jsx)("div",{children:n})};let c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.json())};var u=function(e){let{id:t}=e,[n,a]=(0,o.useState)(""),{subjectTaxonomy:r,subjectTaxonomyError:d,subjectTaxonomyIsLoading:u}=function(){let e=l.g.URL+"/jsonapi/taxonomy_term/tution_subjects",{data:t,error:n,isLoading:i}=(0,s.ZP)(e,c);return{subjectTaxonomy:t,subjectTaxonomyError:n,subjectTaxonomyIsLoading:i}}();return console.log("Error:",d),(0,o.useEffect)(()=>{var e,n,i;let o=r&&(null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.findIndex(e=>e.id===t));a(null==r?void 0:null===(i=r.data[o])||void 0===i?void 0:null===(n=i.attributes)||void 0===n?void 0:n.name)},[r,t]),(0,i.jsx)("div",{children:n})},f=function(e){let{students:t,subjects:n}=e;console.log(t,n);let[s,l]=(0,o.useState)(""),[r,c]=(0,o.useState)(""),[f,m]=(0,o.useState)(""),[v,x]=(0,o.useState)(""),[h,j]=(0,o.useState)(""),[p,g]=(0,o.useState)([]),[_,y]=(0,o.useState)(""),[b,N]=(0,o.useState)("");console.log(b),(0,o.useEffect)(()=>{N({data:[{type:"node--tuition_class",attributes:{status:!0,title:s,field_class_name:r,field_date:f,field_time_from:h,field_time_to:v},relationships:{field_students:{data:[p]},field_subject_single:{data:{type:"taxonomy_term--tution_subjects",id:_}},field_tutor_s_name:{data:{type:"taxonomy_term--tutor_s_name",id:"66a381cc-6c05-496a-beba-1dd1aa1af5ea"}}}}]})},[_,f,p,v,h,s,r]);let T=e=>{g([...p,{type:"taxonomy_term--student",id:e}])};return(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,i.jsx)("h2",{className:"font-light text-2xl my-20",children:"Tuition Class"}),(0,i.jsxs)("div",{className:"w-60",children:[(0,i.jsx)("h3",{children:"Tuition Record"}),(0,i.jsxs)("div",{className:"flex gap-1",children:["Class: ",(0,i.jsx)(u,{id:_})]}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(0,a.v)(b,"/jsonapi/node/tuition_class")},children:[(0,i.jsx)("input",{type:"text",name:"title",value:s,onChange:e=>l(e.target.value),placeholder:"Title"}),(0,i.jsx)("input",{type:"date",name:"date",value:f,onChange:e=>m(e.target.value),placeholder:"Date"}),(0,i.jsx)("label",{children:"Time from"}),(0,i.jsx)("input",{type:"time",name:"timeFrom",onChange:e=>x(e.target.value),placeholder:"Time from"}),(0,i.jsx)("label",{children:"Time to"}),(0,i.jsx)("input",{type:"time",name:"timeTo",onChange:e=>j(e.target.value),placeholder:"Time To"}),(0,i.jsxs)("div",{className:"my-5",children:[(0,i.jsx)("h3",{className:"border-b mb-3",children:"Students"}),(0,i.jsx)("div",{className:"flex gap-4",children:t&&t.map(e=>void 0===p.find(t=>t.id===e.id)?(0,i.jsx)("div",{className:"cursor-pointer",onClick:()=>T(e.id),children:(0,i.jsx)(d,{id:e.id})},e.id):(0,i.jsx)("div",{className:"text-slate-300",children:(0,i.jsx)(d,{id:e.id})},e.id))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"border-b mb-3",children:"Subject"}),(0,i.jsx)("div",{className:"flex gap-4",children:n&&n.map(e=>-1!==_.indexOf(e.id)?(0,i.jsx)("div",{className:"text-slate-300",children:(0,i.jsx)(u,{id:e.id})},e.id):(0,i.jsx)("div",{className:"cursor-pointer",onClick:()=>y(e.id),children:(0,i.jsx)(u,{id:e.id})},e.id))})]}),(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)("button",{children:"Submit"})})]})]})]})};let m=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.json())};function v(e){let{id:t}=e,[n,a]=(0,o.useState)(""),{tutorTaxonomy:r,tutorTaxonomyError:d,tutorTaxonomyIsLoading:c}=function(){let e=l.g.URL+"/jsonapi/taxonomy_term/tutor_s_name",{data:t,error:n,isLoading:i}=(0,s.ZP)(e,m);return{tutorTaxonomy:t,tutorTaxonomyError:n,tutorTaxonomyIsLoading:i}}();return console.log("Tutor Taxonomy: ",r),console.log("Error Taxonomy:",d),(0,o.useEffect)(()=>{var e,n;let i=r&&(null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.findIndex(e=>e.id===t));a(null==r?void 0:null===(n=r.data[i])||void 0===n?void 0:n.attributes.name)},[r,t]),(0,i.jsx)("div",{children:n})}let x=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch(...t).then(e=>e.json())};var h=function(){var e,t,n,a,r,d;let[c,u]=(0,o.useState)("");(0,o.useEffect)(()=>{u("1702d5cc-2c56-4849-8384-b14248d1da3b")},[]);let{aTutor:m,aTutorError:h,aTutorIsLoading:j}=function(e){let t=l.g.URL+"/jsonapi/node/tutor?filter[field_tutor_s_name.id]="+e,{data:n,error:i,isLoading:o}=(0,s.ZP)(t,x);return{aTutor:n,aTutorError:i,aTutorIsLoading:o}}(c);return console.log("Current Tutor: ",m),(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,i.jsx)("div",{className:"mt-20 text-2xl",children:(0,i.jsx)(v,{id:c})}),(0,i.jsx)(f,{students:null==m?void 0:null===(n=m.data[0])||void 0===n?void 0:null===(t=n.relationships)||void 0===t?void 0:null===(e=t.field_students)||void 0===e?void 0:e.data,subjects:null==m?void 0:null===(d=m.data[0])||void 0===d?void 0:null===(r=d.relationships)||void 0===r?void 0:null===(a=r.field_subject)||void 0===a?void 0:a.data})]})}},9505:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});let i={URL:"https://tuition.yellow-website.com/cms"}},7447:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var i=n(9222),o=n(9505);let a=async(e,t)=>{console.log("data in post function: ",e);try{let n=await (0,i.Z)({method:"GET",url:o.g.URL+"/session/token",headers:{Accept:"application/vnd.api+json","Content-type":"application/vnd.api+json"}});console.log(n.data);try{let a=await (0,i.Z)({method:"POST",url:"".concat(o.g.URL).concat(t),headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json","X-CSRF-Token":n.data},data:e});return console.log("Post done: ",a),201===a.status&&window.location.replace("/report/postsuccess"),a}catch(e){console.log("Post Error: ",e)}}catch(e){console.log("Session token error: ",e)}}}},function(e){e.O(0,[801,222,971,596,744],function(){return e(e.s=2405)}),_N_E=e.O()}]);